# Discord DM – 2023-11-12

[2023-11-12 09:28 AM] Deciusmus: Not much time to look at this today as I’m running my game this afternoon
[2023-11-12 09:29 AM] Deciusmus: But I was wondering if it would be possible to format with {} instead of lists, ie
    
    { location: x, type: home }
[2023-11-12 09:29 AM] Deciusmus: The updated metadata takes a lot of space in the file
[2023-11-12 09:30 AM] Deciusmus: My obsidian is set to in source mode so I see the yaml frontmatter and it is kinda annoying to have the body of the note so far down
[2023-11-12 09:30 AM] rsulfuratus: yeah i was messing with the formatting a bit, i'm using a yaml dumper package so I need to figure out how to control the output better
[2023-11-12 09:31 AM] Deciusmus: It looks like it has a flow style parameter
[2023-11-12 09:32 AM] Deciusmus: I assume this is what you are using https://pyyaml.org/wiki/PyYAMLDocumentation
[2023-11-12 09:33 AM] Deciusmus: The size of frontmatter was also making me reconsider the endStatus/prefix/etc
[2023-11-12 09:33 AM] rsulfuratus: no i'm using the default yaml package in base python. might need to switch to pyYAML for better control
[2023-11-12 09:35 AM] rsulfuratus: oh, actually, i am using pyyaml, nvm
[2023-11-12 09:35 AM] Deciusmus: I think if you set default_flow_style = true it should get closer to what we want. 
    I also think the set of empty frontmatter should be small
[2023-11-12 09:36 AM] Deciusmus: Ie don’t add everything in with empty values
[2023-11-12 09:36 AM] rsulfuratus: i think it might make sense to collapse some stuff that doesn't need to be human readable easily into lists, e.g. could have a defaults frontmatter item (dict or list) that is auto-generated (by template or python) with all the various default text. would only take up one line of frontmatter
[2023-11-12 09:37 AM] rsulfuratus: and could easily extend to other defaults if desired
[2023-11-12 09:37 AM] Deciusmus: Right that’s not a bad idea
[2023-11-12 09:38 AM] rsulfuratus: i also was working on implemented an "optional/required" flag, where empty optional items are not output. so far this is just ka is only output for elves but could easily be extended to anything
[2023-11-12 09:38 AM] Deciusmus: Do you have a source config somewhere for this?
[2023-11-12 09:38 AM] Deciusmus: Where does the metadata list live?
[2023-11-12 09:39 AM] rsulfuratus: it is horrible, it is just a function that defines a metadata dict in the python code. but i will at some point (probably thanksgiving week, which i'm taking off) rewrite to parse a spec
[2023-11-12 09:40 AM] Deciusmus: If you make it a json file I’d write a templater that generates the new note from that
[2023-11-12 09:40 AM] Deciusmus: Could even have 2 templates one for minimal and one for all
[2023-11-12 09:42 AM] rsulfuratus: the way i have it set up now is that i create a few dicts with different keys, combined them by type (so, e.g., NPC = core + people, Ruler = core + people + ruler, PC = core + people + PC), and then set defaults by type
[2023-11-12 09:42 AM] rsulfuratus: I wasn't sure the best way to define this in json
[2023-11-12 09:43 AM] rsulfuratus: it would be trivial to have like 10 json files, and then do the combining and default-setting in code
[2023-11-12 09:44 AM] Deciusmus: Yeah I’d have one json file per type plus a core
[2023-11-12 09:44 AM] Deciusmus: And people
[2023-11-12 09:44 AM] Deciusmus: Or rather, I’d have a set of “metadata” files like core,
    Person, etc
[2023-11-12 09:44 AM] Deciusmus: And then a single file that defines for each type which metadata files to use
[2023-11-12 09:45 AM] rsulfuratus: i guess you could do the default setting in the json if you just don't put things in core that have variable defaults by type
[2023-11-12 09:45 AM] rsulfuratus: e.g. the defaults list could be part of the most-specific json
[2023-11-12 09:45 AM] rsulfuratus: that would be easy too
[2023-11-12 09:45 AM] Deciusmus: I’d do the default in json and not put something like the end status in core. Just put it wherever
[2023-11-12 09:45 AM] Deciusmus: Yeah
[2023-11-12 09:46 AM] rsulfuratus: you'd need a separate file to define which metadata is combined for which type, and also to define which elements are always output (even if blank) and which are only output if not blank
[2023-11-12 09:47 AM] rsulfuratus: although i guess the latter might be better as a spec that can be implemented separately in cleanup code and in templater
[2023-11-12 09:48 AM] rsulfuratus: the workflow would then be:
    1. run cleanup code to make all notes conform to spec
    2. use templater for new notes, ideally never running cleanup
    3. if spec changes, update cleanup code and rerun to convert all notes to new spec
[2023-11-12 09:48 AM] Deciusmus: Yeah
[2023-11-12 09:50 AM] Deciusmus: I’d make it as data driven as possible, ie have a json file that defines:
    Type ->` metadata
    And each metadata file has:
    { name: , outputIfEmpty: , default:
[2023-11-12 09:51 AM] Deciusmus: You might want to output died even if blank for rulers (most rulers are dead) but not for npcs and PCs for@example
[2023-11-12 09:53 AM] rsulfuratus: right, that's fine
[2023-11-12 09:55 AM] rsulfuratus: how annoying would it be to parse defaults that refer to variables in templater / javascript? e.g.:
    ```
    name : { required; True, default: `<file-name>` }
    ```
[2023-11-12 09:56 AM] Deciusmus: Not annoying
[2023-11-12 09:56 AM] rsulfuratus: where required implies "always-output" and the ``<>`` syntax would mean "replace with a variable of this name if exists"
[2023-11-12 09:56 AM] rsulfuratus: okay, that seems like the best option then
[2023-11-12 09:57 AM] Deciusmus: I’m not sure the point of something like replace name with filename though
[2023-11-12 09:57 AM] rsulfuratus: maybe not
[2023-11-12 09:58 AM] rsulfuratus: that specific example
[2023-11-12 09:59 AM] rsulfuratus: but could be used for example to implement your folder ->` ancestry map, for example, if that was useful
[2023-11-12 10:00 AM] Deciusmus: My view on metadata is that is serves 3 purposes:
    1. To be used by the header generation template to generate consistent Wikipedia style bio-blocks
    2. To by used by the dynamic dataview/python code for whereabouts, page dated value, and regnal year
    3. For dataview queries
[2023-11-12 10:01 AM] rsulfuratus: right
[2023-11-12 10:01 AM] Deciusmus: Anything that is used by (2) we should prefer having defaults in yaml. So that there is a single source of truth. But for (1) it is perhaps nicer to have the default logic in JavaScript
[2023-11-12 10:03 AM] rsulfuratus: for new notes, sure
[2023-11-12 10:04 AM] Deciusmus: I just mean, we should in general try to prefer smaller rather than larger frontmatter
[2023-11-12 10:05 AM] Deciusmus: Anyway I gotta go shopping before my D&D game and still have three tower levels in the hobgoblin fort to make up, so can continue this later but not right now
[2023-11-12 10:05 AM] rsulfuratus: i'm not going to do any coding on this until next weekend most likely anyway
[2023-11-12 10:29 AM] Deciusmus: Speaking of my game today, any thoughts on holy symbols for the Father and the Night Queen?
    Thinking for the father:
    Simplest - a line with a circle with rays  on top, representing a scepter with the sun at the top. More complex would include details of scepter sun
    
    Night queen - five dots in a circle, representing the outline of a crown of stars. More complex would represent the crown (seen top down). Alternate sometimes seen: just three stars in an arch with an implied horizon, representing transition to and from the night/life/death
[2023-11-12 10:31 AM] rsulfuratus: I like both of those. for night queen perhaps stylized stars not dots? as an amulet or holy symbol assume it would be a styled crown in general
[2023-11-12 10:33 AM] Deciusmus: Yeah. Sounds good
[2023-11-12 10:33 AM] Deciusmus: In this case it will come up scrawled on walls as graffiti / ward against undead
[2023-11-12 10:42 AM] rsulfuratus: btw, here is the history of a ruined villa in western Cymea that is the setting for my game tonight
    The Perdoli Manor (*Pehr-DOH-lee*) was build in 1479, by the wealthy Perdoli family, merchants and traders. Got rich off wine and control over a marble quarry in the hills, built manor as a place to relax and get away, about a day's journey into the hills from Vistalba. 
    
    The family enjoyed the manor for several generations, until the Great War. The Perdoli family faired poorly, and came out of the Great War having lost much of their wealth (details don't really matter). A few years after the Great War, forced to sell the villa. The new owners were not much better, and never lived there, and couldn't afford the upkeep. Some stone was scavenged during this time, but it was too far away to be convenient. The new owners died without heirs, living the manor to fall into disrepair and ruin in the 1590s. 
    
    It stood empty save from occasional wandering travelers seeking shelter far from home for the next 30 years or so, generally falling out of memory of the local villagers, who had other problems to deal with. 
    
    In the 1620s, the manor was reoccupied by a medusa, who made it her lair for 30 years, during which time it acquired a reputation as a cursed place, and fell further into disrepair. The medusa eventually succumbed to her reflection, caught unexpectedly by the water in a fountain. While she lived there, some crude repairs were made to the manor, scavenging stone from outbuildings as needed. 
    
    In the 1690s, a group of pirates and bandits fleeing the beginnings of Tollender persecution moved in and made it a hideaway for the next 15 years or so. They dug tunnels and built a secret room behind the wine cellar to store treasure, and repaired the smithy/forge and parts of the manor, in a crude fashion. The leader was killed by the Tollender Navy in the 1720s, and the lair was gradually abandoned. 
    
    It has sat empty since then, until recent events.
[2023-11-12 10:43 AM] Deciusmus: It’s dungeon crawl day in Taelgar
[2023-11-12 10:43 AM] rsulfuratus: yeah
[2023-11-12 10:44 AM] Deciusmus: Do you have any issue with lots of undead across sembara in the winter of 1720, btw? Like 10s of skeletons and zombies appearing in lots of little villages and towns across a wide swath of southern sembara.
[2023-11-12 10:44 AM] rsulfuratus: sounds great
[2023-11-12 10:45 AM] Deciusmus: The lich cast some spell that awakened say, 0.01% of all the dead in sembara
[2023-11-12 10:45 AM] rsulfuratus: i keep thinking that you all should go find someone who remembers the lich in sembara to ask about how to kill liches
[2023-11-12 10:48 AM] Deciusmus: That would be a good idea but none of us know about the lich
[2023-11-12 10:49 AM] rsulfuratus: right, i need a way to introduce it. maybe when you get back to tollen
[2023-11-12 10:49 AM] Deciusmus: I mean you could tell Wellby he remembers from his childhood
[2023-11-12 10:49 AM] rsulfuratus: yeah that's true, i guess it was probably a pretty big deal when the lich was exposed?
[2023-11-12 10:49 AM] Deciusmus: Yeah. It’s going to be summer 1720
[2023-11-12 10:50 AM] Deciusmus: So like a year or two before he was born. But a big deal for everyone in the region
[2023-11-12 10:52 AM] Deciusmus: I have no idea how the lich was defeated. It doesn’t matter actually since the PCs will not be involved. All I know is that a human woman paladin or fighter (who was involved in the backstory of one of my PCs) is part of it
[2023-11-12 10:54 AM] rsulfuratus: hmm, yeah, i'll think a bit. even if i introduce in game those details wouldn't matter for several sessions, as presumably you'd need to get back to tollen and ask around. all wellby would remember is there was a lich who was killed
[2023-11-12 10:57 AM] Deciusmus: The only other thing is that the lich wasn’t actually killed. Just everyone thought he was killed. In reality he ended up trapped by mind flayers in a complex plot
[2023-11-12 10:57 AM] Deciusmus: But that plot is canonically secret, ie even if my players fail no one in sembara would reallly know about it
[2023-11-12 10:57 AM] rsulfuratus: right
[2023-11-12 11:00 AM] Deciusmus: But that won’t be remotely relevant to my game until summer 2024 at the very soonest
[2023-11-12 11:00 AM] Deciusmus: And I don’t have well plotted details
[2023-11-12 11:03 AM] Deciusmus: So I have lots of flexibility to let whatever comes up in dunmar game to be canonical as long as it’s possible to somehow have the lich re-emerge later. It could be even not the actual lich, but something related to him. 
    
    The only plot I’m committed to is underdark/mind flayers vibe as the bad guys plus the necessity to run all over sembara region to find info/items/legends/something
[2023-11-12 11:03 AM] Deciusmus: And that I want the lich prologue that’s running now to be connected to the “main plot” so the lich has to be involved somehow
[2023-11-12 11:05 AM] rsulfuratus: the idea is that the mind flayers are somehow in control of the lich, or the lich is in control of the mind flayers? or you haven't decided?
[2023-11-12 11:25 AM] Deciusmus: Haven’t decided
[2023-11-12 11:28 AM] Deciusmus: My original idea was that the mind flayers were in control of the lichs phylatcertry and when he was “killed” instead of letting him come back to life they imprisoned him with the idea of using his undeath to fuel a chaylyte golem that would be functionally unstopped and kill everyone
[2023-11-12 11:31 AM] Deciusmus: But I’m not committed to that - all I’m committed to is
    A) mind flayers under the Sentinel Ranger 
    B) who are doing something bad
    C) related to the lich in some fashion
    D) where to solve the problem the PCs have to go to a bunch of different places in greater sembara
[2023-11-12 02:12 PM] rsulfuratus: btw - it might be too late for your game today or not relevant - but I made up the elf from our last session thinking they could be a chararacter who could show up in your game.

### Vahaiya
`*`va-HAI-ya*, like va-HIGH-ya
A well-connected collector of elven painting, of the 36th ka. They survived the Great War, fighting alongside Sembarans in the [[Battle of Urlich Pass]]. After the war, could not settle, and did not return to have children during their first mela. Traveled and fought with the rangers for a time, spent time around Massau, Addermarch, fighting hobgoblins, until by 1700 was tired of fighting. Had amassed some considerable skill in arms, and favors and knowledge from a wide swath of people, including many rangers. Word of their deeds spread, and returns to Orenlas - which is particularly close to Addermarch - in the early 1700s, tired, feeling out of cycle, uncertain about having missed their first mela, wanting the strength of Aldanor's roots just as Elmerca's winds are scattering the newly awakened elves of the small and uncertain 37th ka. Decides to stay in Orenlas. Given their fame, attracts a number of gifts, and finds particular joy in painting. Even has one of Beryl's paintings, a very rare piece if not particularly amazingly crafted, and a gift from the Rangers.
![[../_discord_assets/DALLE_2023-11-07_00.32.47_-_Create_photore-9D502.png]]
[2023-11-12 02:26 PM] Deciusmus: I had plans for this but not this session


# Discord DM – 2024-01-23

[2024-01-23 09:29 AM] rsulfuratus: i had 20 minutes before a meeting this morning and was messing around with code to auto-generate index pages for taelgarverse. 
    
    the main use case I had in mind originally was to make a nice index of session notes, with taglines and in order of DR, since having them in the nav sorts poorly and looks bad.
    
    but, it would actually be quite easy to adapt this to a number of other possible uses, e.g. make an index of NPCs, or even something like people in X. 
    
    however any useful extensions probably depend on writing staticified information to metadata, since if I want to e.g. generate an index page of NPCs sorted by home location and then current location, I need that information in the metadata.
[2024-01-23 09:29 AM] rsulfuratus: i assume it would be pretty straightforward to write out an arbitrary metadata in the prep_for_export script?
[2024-01-23 09:29 AM] rsulfuratus: since you are already adding activeYear
[2024-01-23 10:15 AM] Deciusmus: yes
[2024-01-23 10:15 AM] Deciusmus: pretty straightforward
[2024-01-23 10:15 AM] Deciusmus: mostly just it slows it down
[2024-01-23 10:16 AM] Deciusmus: the obsidian api to rewrite frontmatter is slow, and I "fixed" the performance for active year by only writing it for people who have a birth year >` current year
[2024-01-23 10:18 AM] rsulfuratus: ah, okay. so it might be a little annoying to add home, origin, current, last known, age, etc to every page
[2024-01-23 10:19 AM] rsulfuratus: i'm not doing anything with this anytime soon
[2024-01-23 10:19 AM] Deciusmus: It is slow proportional to the number of pages not the metadata per pag
[2024-01-23 10:23 AM] Deciusmus: the number of pages with "interesting" metadata might be relatively low, i.e. we could say that the only thing we really care about is "currentLocation" and do something like
    
    if the whereabouts field is itself a string, do nothing, otherwise replace whereabouts with a simple string of the current location
[2024-01-23 10:23 AM] Deciusmus: then your python logic could just use whereabouts as a simple "where is something" check
[2024-01-23 10:24 AM] Deciusmus: you could do something similar for home, I guess, as well, although I wonder how useful that is
[2024-01-23 10:27 AM] rsulfuratus: I might actually just add a simple whereabouts parser to my obsidian note class. The actual whereabouts code is pretty compact, it is all the token parsing and the like that is very complicated
[2024-01-23 10:27 AM] Deciusmus: Also true
[2024-01-23 12:50 PM] Deciusmus: I pushed a change so that if you set
    
    staticify_whereabouts = true
    
    in website.json 
    
    prep for export will add
    
    whereabouts_current
    whereabouts_home
    whereabouts_origin 
    
    to the frontmatter
[2024-01-23 12:50 PM] Deciusmus: it doesn't seem that slow in my light testing
[2024-01-23 12:50 PM] Deciusmus: but it defaults to off
[2024-01-23 02:06 PM] rsulfuratus: okay, thanks. too busy with work to mess around much at the moment and want to finish session note cleaning first but may play around at some point
    
    would be kind of cool to append card grids for NPCs where home is X to page X for example
[2024-01-23 02:19 PM] Deciusmus: appending npcs to places is kinda painful though when you have 25 npc that live somewhere
[2024-01-23 09:55 PM] rsulfuratus: spent a lot of time cleaning up timelines:
![[../_discord_assets/image-C6632.png]]
[2024-01-23 09:55 PM] rsulfuratus: every mirror vision
[2024-01-23 09:56 PM] Deciusmus: That’s pretty fancy
[2024-01-23 10:02 PM] rsulfuratus: all events since the campaign started:
    ```dataviewjs
    await dv.view("_scripts/view/get_EventsTable", { yearStart: "1748-03-22", yearEnd: "1749-04-01" } )
    ```
[2024-01-23 11:04 PM] Deciusmus: How did you make the big timeline? Python?
[2024-01-23 11:16 PM] rsulfuratus: the one of all the mirror events is in dataview. I have all mirror events tagged with (recharge:: mirror) so it is just 
    
    ```dataview
    LIST WITHOUT ID events.text FROM "Campaigns" flatten file.lists as events where contains(events.recharge, "mirror") sort events.DR
    ```
[2024-01-23 11:17 PM] rsulfuratus: to summarize session date information, I used my generate_index_page.py script which can take an arbitrary template on the command line to output metadata. then a bit of cleaning in R


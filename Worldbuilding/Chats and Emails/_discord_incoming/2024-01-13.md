# Discord DM â€“ 2024-01-13

[2024-01-13 10:37 AM] Deciusmus: thouhts?
[2024-01-13 10:37 AM] Deciusmus: 
![[../_discord_assets/image-D7665.png]]
[2024-01-13 10:38 AM] Deciusmus: 
![[../_discord_assets/image-99397.png]]
[2024-01-13 10:38 AM] Deciusmus: gah, discord doesn't want to upload images
[2024-01-13 10:38 AM] rsulfuratus: none of these images are coming through
[2024-01-13 12:34 PM] Deciusmus: 
![[../_discord_assets/image-A787E.png]]
[2024-01-13 12:38 PM] rsulfuratus: maybe use ðŸ—£ï¸ `:speaking_head:` for the pronunciation box?
[2024-01-13 12:39 PM] rsulfuratus: or `:speaker:`
[2024-01-13 12:39 PM] rsulfuratus: ðŸ”ˆ
[2024-01-13 12:39 PM] rsulfuratus: or `:sound` or `:loud_sound:`
[2024-01-13 12:39 PM] rsulfuratus: ðŸ”‰
[2024-01-13 12:39 PM] rsulfuratus: ðŸ”Š
[2024-01-13 12:40 PM] Deciusmus: 
![[../_discord_assets/image-8992B.png]]
[2024-01-13 12:40 PM] rsulfuratus: I like that a lot
[2024-01-13 12:41 PM] Deciusmus: better?
![[../_discord_assets/image-E2958.png]]
[2024-01-13 12:42 PM] rsulfuratus: eh I think I actually don't mind the blank space so much
[2024-01-13 12:42 PM] rsulfuratus: having the location information separate makes it look a lot cleaner
[2024-01-13 12:45 PM] rsulfuratus: i'm out and about most of the afternoon but I pushed an update to the literate_nav branch that:
    1. correctly handles image alignment, width, height, and sets alt text
    2. copies templates/toc.md (by default) to docs/toc.md, for use with literate nav. set "literate_nav" in website.json to "" or None to disable, or to a different file to use a different toc file. this assumes that you set toc.md as the literate nav nav file
    3. hides toc by tag. by default this is just "person", if you want to hide toc in other tags, you can set "hide_toc_tags" : `[ "person", "tag1", "tag2" ]` in website json
[2024-01-13 12:49 PM] rsulfuratus: the literate nav stuff isn't quite working and is a bit complicated, so i might investigate another option like awesome-pages
[2024-01-13 01:11 PM] rsulfuratus: pushed update that handles nested tags, so if you specify "item" in the hide_toc_tags you'll hide item/book, item/ring, etc, and also changed a few defaults
[2024-01-13 01:11 PM] rsulfuratus: will fiddle more later today
[2024-01-13 03:00 PM] Deciusmus: I pushed a change to website export
[2024-01-13 03:00 PM] Deciusmus: if you want to go back to the old way, change the prep-for-export temple to use "static" instead of "website"
[2024-01-13 03:04 PM] rsulfuratus: i have been fiddling with navigation, which is a bit complicated
[2024-01-13 03:06 PM] rsulfuratus: the literate nav stuff is pretty buggy
[2024-01-13 03:08 PM] rsulfuratus: what do you care about for navigation? i have been working towards something that can work well with header nav items and can limit the items displayed on the nav without necessarily excluding them from search or direct url access or links
[2024-01-13 03:08 PM] rsulfuratus: but this generally requires building a nav file that is distinct from the folder structure
[2024-01-13 03:08 PM] Deciusmus: I like the idea of header nav. Otherwise I haven't really thought about it
[2024-01-13 03:09 PM] Deciusmus: I like the option at least of just preserving the obisidian nav bu making folder notes work
[2024-01-13 03:10 PM] Deciusmus: I think my default would be something like
    
    Top Level = Cleenseau | People | Gazetteer | Cosmology
    And then each section copying the nav from obsidian plus folder notes
    And then anything not in the nav still acessible via links
[2024-01-13 03:11 PM] rsulfuratus: right, that was basically what I was trying to get to work, with a few tweaks such as putting the species note as the folder note for each People subfolder and moving PCs/Dunmar Fellowship to Dunmar Campaign/Characters
[2024-01-13 03:11 PM] rsulfuratus: the challenge it is it quite difficult to mix and match in that way without generating the full nav
[2024-01-13 03:12 PM] Deciusmus: Any thoughts on item pages?
![[../_discord_assets/image-BA0DC.png]]
[2024-01-13 03:12 PM] rsulfuratus: I think mechanics should be in the info box
[2024-01-13 03:12 PM] Deciusmus: I don't love the current look
[2024-01-13 03:12 PM] rsulfuratus: looks kind of weird right aligned like that
[2024-01-13 03:13 PM] rsulfuratus: or, do it like pronunciation
[2024-01-13 03:13 PM] rsulfuratus: :simple-dungeonsanddragons:
[2024-01-13 03:14 PM] rsulfuratus: I might italicize the (unique magical rapier) bit as well
[2024-01-13 03:56 PM] Deciusmus: 
![[../_discord_assets/image-D2924.png]]
[2024-01-13 04:00 PM] Deciusmus: or
![[../_discord_assets/image-E0458.png]]
[2024-01-13 04:05 PM] Deciusmus: 
![[../_discord_assets/image-E401E.png]]
[2024-01-13 04:05 PM] Deciusmus: 
![[../_discord_assets/image-F4548.png]]
[2024-01-13 04:07 PM] Deciusmus: or
![[../_discord_assets/image-EEF03.png]]
[2024-01-13 04:07 PM] rsulfuratus: I like having the last one best
[2024-01-13 04:08 PM] rsulfuratus: I think for items the second version
[2024-01-13 04:09 PM] rsulfuratus: The Cleenseau / place version would probably work well as a default for everything
[2024-01-13 04:09 PM] rsulfuratus: then items/people get the more complicated one
[2024-01-13 04:11 PM] Deciusmus: I am out for a bit; might try to get places right at least later
[2024-01-13 04:12 PM] rsulfuratus: I decided to just auto-generate the complete nav file. it is based off a template file, basically just to handle directory globs better than literate nav does by default
[2024-01-13 06:13 PM] rsulfuratus: autogenerated nav is working
[2024-01-13 06:14 PM] rsulfuratus: uses a template file like this:
    ```
    - `[Home]`(index.md)
    - `[Dunmar Campaign]`(campaigns/dunmari-frontier/dunmari-frontier-campaign.md)
        - `[Characters]`(people/pcs/dunmar-fellowship/dunmar-fellowship.md)
            - {glob: people/pcs/dunmar-fellowship/, exclude: dunmar-fellowship.md}
        - Session Info
    ```
[2024-01-13 06:14 PM] rsulfuratus: anything without {glob: } is passed directly
[2024-01-13 06:14 PM] Deciusmus: does it handle folder notes correctly in some automatic way?
[2024-01-13 06:15 PM] rsulfuratus: {glob: } is replaced with a recusrive list of all the files in the directory and subdirectories, with folder notes auto-placed if they exist, and excluding files in exclude (; delimited)
[2024-01-13 06:15 PM] rsulfuratus: ```
    - `[Home]`(index.md)
    - `[Dunmar Campaign]`(campaigns/dunmari-frontier/dunmari-frontier-campaign.md)
        - `[Characters]`(people/pcs/dunmar-fellowship/dunmar-fellowship.md)
            - `[Delwath]`(people/pcs/dunmar-fellowship/delwath.md)
            - `[Kenzo]`(people/pcs/dunmar-fellowship/kenzo.md)
            - `[Riswynn]`(people/pcs/dunmar-fellowship/riswynn.md)
            - `[Seeker]`(people/pcs/dunmar-fellowship/seeker.md)
            - `[Wellby]`(people/pcs/dunmar-fellowship/wellby.md)
            - Companions
                - `[Baxter]`(people/pcs/dunmar-fellowship/companions/baxter.md)
                - `[Ladder]`(people/pcs/dunmar-fellowship/companions/ladder.md)
                - `[Taster]`(people/pcs/dunmar-fellowship/companions/taster.md)
            - Guests
                - `[Alimash]`(people/pcs/dunmar-fellowship/guests/alimash.md)
                - `[Aristaea]`(people/pcs/dunmar-fellowship/guests/aristaea.md)
                - `[Artem Novolozek]`(people/pcs/dunmar-fellowship/guests/artem-novolozek.md)
                - `[Caulaus]`(people/pcs/dunmar-fellowship/guests/caulaus.md)
                - `[Drikod]`(people/pcs/dunmar-fellowship/guests/drikod.md)
                - `[Iascaire]`(people/pcs/dunmar-fellowship/guests/iascaire.md)
                - `[Izzarak]`(people/pcs/dunmar-fellowship/guests/izzarak.md)
                - `[Merash]`(people/pcs/dunmar-fellowship/guests/merash.md)
                - `[Mikasa]`(people/pcs/dunmar-fellowship/guests/mikasa.md)
                - `[Raven]`(people/pcs/dunmar-fellowship/guests/raven.md)
                - `[Rothfis]`(people/pcs/dunmar-fellowship/guests/rothfis.md)
    ```
[2024-01-13 06:16 PM] rsulfuratus: this is also autogenerated:
    ```
        - `[Eastern Green Sea]`(gazetteer/eastern-green-sea/eastern-green-sea.md)
            - `[Arrynâ€™s Tower]`(gazetteer/eastern-green-sea/arryns-tower.md)
            - `[Dolphinâ€™s Rest Inn]`(gazetteer/eastern-green-sea/dolphins-rest-inn.md)
            - `[Eastern Green Sea]`(gazetteer/eastern-green-sea/eastern-green-sea.md)
            - `[Eastern Green Sea Region]`(gazetteer/eastern-green-sea/eastern-green-sea-region.md)
            - `[Irrla]`(gazetteer/eastern-green-sea/irrla.md)
            - `[Medju]`(gazetteer/eastern-green-sea/medju.md)
            - `[Quanyi]`(gazetteer/eastern-green-sea/quanyi.md)
            - `[Vermillion Isles]`(gazetteer/eastern-green-sea/vermillion-isles.md)
            - `[Wahacha]`(gazetteer/eastern-green-sea/wahacha.md)
    ```
[2024-01-13 06:17 PM] rsulfuratus: two existing bugs I might have time to fix tonight:
    1. if a folder note is auto-placed, it is not automatically excluded. this should be east to fix, but right now e.g. `[Eastern Green Sea]` appears twice, once as the folder note and once in the listing
[2024-01-13 06:18 PM] rsulfuratus: 2. not exactly a bug but enhancement, right now it uses ~ in title to delist ~Unnamed~ places but it is better to instead set unlisted: True in frontmatter, which then could be used to generate unlisted notes directly in obsidian
[2024-01-13 06:19 PM] Deciusmus: I have the prep script that cleans my taelgar dir set to delete ~
[2024-01-13 06:19 PM] rsulfuratus: that also works
[2024-01-13 06:19 PM] Deciusmus: but unlisted: true would be nice as well
[2024-01-13 06:20 PM] rsulfuratus: the more complicated improvement I'd like to implement is to be able to list multiple directories, and merge all the files into one nav unit, and/or alternatively to set a flatten attribute to get all files and subdirs but just sort the files themselves instead of the hierarchical nav
[2024-01-13 06:21 PM] rsulfuratus: but if you can live with the duplication bug it seems like it works pretty well at the moment, so you can play around with setting up your desired taelgar1720 nav
[2024-01-13 06:21 PM] rsulfuratus: the {glob } syntax might be extended but i won't break existing templates
[2024-01-13 06:22 PM] rsulfuratus: note that if you want to set a folder page to a note that is not just folder-name.md, you have to set that manually, there is no way to auto-set those
[2024-01-13 06:22 PM] rsulfuratus: so e.g. I have:
    ```
          - `[Elves]`(species/children-of-the-embodied-gods/elves/elves.md)
              - {glob: people/elves/}
    ```
[2024-01-13 06:22 PM] rsulfuratus: in my template
[2024-01-13 06:23 PM] rsulfuratus: and e.g.:
    ```
    - `[Dunmar Campaign]`(campaigns/dunmari-frontier/dunmari-frontier-campaign.md)
        - `[Characters]`(people/pcs/dunmar-fellowship/dunmar-fellowship.md)
            - {glob: people/pcs/dunmar-fellowship/, exclude: dunmar-fellowship.md}
    ```
[2024-01-13 07:28 PM] Deciusmus: is this in a branch or main?
[2024-01-13 07:28 PM] rsulfuratus: literate-nav branch
[2024-01-13 07:33 PM] rsulfuratus: just pushed an update that:
     - fixes the repeated folder name bug
    - supports unlisted: frontmatter (by default set to true for files with ~ in the name)
    - supports multiple directores in a glob, e.g. {glob: path/dir/first;path/dir/second}
    - supports flatten keyword, e.g. {glob: path/dir;flatten}
[2024-01-13 07:33 PM] Deciusmus: here are some item pages... any feedback?
![[../_discord_assets/image-627A9.png]]
![[../_discord_assets/image-2A545.png]]
![[../_discord_assets/image-0E19F.png]]
![[../_discord_assets/image-14217.png]]
![[../_discord_assets/image-95D6D.png]]
[2024-01-13 07:34 PM] rsulfuratus: the flatten keyword means: "find all md files recursively starting from dir and merge them into one list of files in the nav"
[2024-01-13 07:34 PM] Deciusmus: 
![[../_discord_assets/image-F9711.png]]
[2024-01-13 07:36 PM] rsulfuratus: I really like the items
[2024-01-13 07:36 PM] rsulfuratus: why is the flaming tempest different, just because it has no lines other than the header?
[2024-01-13 07:37 PM] rsulfuratus: I think that is sensible but I'd still make it bold
[2024-01-13 07:37 PM] rsulfuratus: instead of *(italic)*
[2024-01-13 07:41 PM] Deciusmus: yeah, because it has no lines
[2024-01-13 07:41 PM] rsulfuratus: I think that is good, but I think I'd still make it bold and not in parentheses
[2024-01-13 07:42 PM] Deciusmus: title case or lower case?
[2024-01-13 07:42 PM] rsulfuratus: I'd do title case, so it is consistent with other items
[2024-01-13 07:47 PM] rsulfuratus: do I need to set something up in mkdocs?
![[../_discord_assets/image-D7F12.png]]
[2024-01-13 07:47 PM] Deciusmus: yes, look at my branc
[2024-01-13 07:48 PM] Deciusmus: you need at least
    
    ```
      - pymdownx.emoji:
          emoji_index: !!python/name:material.extensions.emoji.twemoji
          emoji_generator: !!python/name:material.extensions.emoji.to_svg
    ```
[2024-01-13 07:48 PM] Deciusmus: you also are going to wnat my extras.css
[2024-01-13 07:48 PM] Deciusmus: also add   - glightbox
[2024-01-13 07:48 PM] Deciusmus: to plugins
[2024-01-13 07:49 PM] Deciusmus: still working on bugs for places + people
[2024-01-13 07:50 PM] Deciusmus: the code is pretty senstive to spacing so there is some weird stuff I haven't fully sorted
[2024-01-13 07:50 PM] Deciusmus: people should be mostly good though
[2024-01-13 07:57 PM] rsulfuratus: i'm going to merge the literate_nav branch
[2024-01-13 07:59 PM] rsulfuratus: requires:
    pip install mkdocs-literate-nav
    pip install mkdocs-section-index
    
    then look at my mkdocs.yml for setup
[2024-01-13 08:00 PM] rsulfuratus: and templates/toc.md for structure of an (in-progress) nav
[2024-01-13 10:37 PM] Deciusmus: FYI, had to change your code slightly:
    
        with open(nav_path, 'w', -1, "utf8") as output_file:
[2024-01-13 10:37 PM] Deciusmus: windows doesn't use utf8 by default
[2024-01-13 10:49 PM] Deciusmus: otherwise super nice
[2024-01-13 11:18 PM] Deciusmus: A few random thoughts before I go to bed:
    
    * Rooting isn't a great model for what pages to include, as it ends up including way too much. The root logic picks up way too many random things and isn't guaranteed to pick up everything I care about (i.e. a new magic item the PCs just found isn't rooted, but some random page on a Dunmari is via Dunmar ->` Tokra ->` Order of Werewolf ->` Govir or whatever)
    
    * The nav works really well for constructing the nav, and can be used to "deemphasize" pages - it might be nice if the unlisted feature supported a per-campaign unlisting, if for example I wanted to unlist some specific pages. That said, I generally don't care about unlisting (see next point)
    
    * What would really be useful is a better mechanism to manually control pages on a per-campaign basis in obsidian. For example, I might want to (a) have the nav not include any other places and (b) explicitly remove a handful of feywild pages where I want to make sure the information is discovered in game first
[2024-01-13 11:19 PM] Deciusmus: Basically, I think I'm like 90% of the way to the perfect site; actually it occurs to me glob patterns are pretty flexible; for the small number of pages I care about deleting I could probably just use filenames in the prep glob
[2024-01-13 11:20 PM] Deciusmus: Anyway, I am going to bed. Haven't thought about actually publishing, but in the short term I might just run mkdocs build and copy and push to my existing github.io site


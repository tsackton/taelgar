# Discord DM ‚Äì 2023-11-03

[2023-11-03 11:49 AM] Deciusmus: fixing a few bugs in 10 min between meetings. But the page filter does work
    
    pageFilter: "(#event-source or #timeline) and \"Campaigns\""
[2023-11-03 11:50 AM] Deciusmus: ```dataviewjs
    await dv.view("_scripts/view/get_EventsTable", { yearStart: 1747, yearEnd: 1747, pageFilter: "(#event-source or #timeline) and \"Campaigns\""} )
    ```
[2023-11-03 11:50 AM] Deciusmus: works fine
[2023-11-03 11:50 AM] Deciusmus: you need to quote the folder name, as per https://blacksmithgu.github.io/obsidian-dataview/api/code-reference/#dvpagessource
[2023-11-03 12:27 PM] rsulfuratus: i was using single quotes which didn't work
[2023-11-03 12:38 PM] rsulfuratus: working on a bit of elven history, thinking about ka and mela and leya. which do you like better:
    1) during the first 30 years of each ka, at the beginning of mela, every elf who has not experienced a mela before is fertile and able to have children via a mystical process associated with the firstborn; once you have lived through a mela cycle, you are never again able to have children.
    2) elves are fertile between roughly 150-180 years, and then cease to be fertile. so it is less mystical and more biological, and what matters is your age not your life experience
[2023-11-03 12:40 PM] rsulfuratus: (1) is a little simpler for the first generation / getting things going, and ensures you don't get age drift where if the youngest have kids with youngest and oldest with oldest you tend to move towards overlapping generations over time. it also raises the possibility that Delwath didn't actually experience the last mela during the 37th ka
[2023-11-03 12:41 PM] rsulfuratus: (2) is maybe a little more straightforward and clear from the point of view of an elf PC as you can kind of figure out your age and where you fit
[2023-11-03 12:53 PM] Deciusmus: I went back and forth on this a lot when I was making up the mela and leya stuff
[2023-11-03 12:56 PM] rsulfuratus: I'm leaning towards 1 but not committed to it
[2023-11-03 01:00 PM] Deciusmus: I was mostly thinking about in turns of (2), both because
    (a) I've largely been playing Delwath as someone who knows he can't have kids because he has missed his chance
    (b) I didn't think of any other ideas
    
    But the generation drift was a bit annoying, and you do by math potentially end up with drift. I was thinking of dealing with that via cultural ideas about mostly everyone has children in the first couple of years of coming back from mela, and also everyone of a ka leaves at the same time.
    
    So even with some age variabilty, it would be unusual to have gen drift because someone who is born very early in the ka enters the marriage market so to speak at the same time as everyone else
[2023-11-03 01:01 PM] Deciusmus: That said, adding more mysticism is not necessarily wrong or a bad idea. I'd just have to think about the impact on Delwath. I haven't done the generation math but I assume he would not have experienced a mela yet
[2023-11-03 01:15 PM] rsulfuratus: whether that counts could be clear or unclear depending on how you feel, I guess
    he wouldn't have experienced a mela on the material plane. but would have while trapped in the shadow realm
[2023-11-03 01:17 PM] rsulfuratus: I would expect that elves on the feywild for example would still experience the mela whether they were in the feywild or not
[2023-11-03 01:50 PM] Deciusmus: What about this...
    
    The mela and leya are not time periods or events in the lifecycle of an individual elf, the are actual metaphysical events in the world. Every 80 years, since the first elves were born, Aldanor exhales -- the leya -- and the inhales -- the mela.  (The metaphor is just an example, something plant-related might be better).
    
    An individual elf -- wherever they are -- feels these in their bones. The first leya of an elf's life is said to breath Aldanor's spirit into the elf, and makes them 'adult'. This is often accompanied by an urge to travel or see some new part of the world, and the eighty years after the leya have come to be called by the name of the event.
    
    The first mela, on the other hand, pulls an elf home, and is accompanied by an urge to reconnect with Aldanor. The mela itself lasts for some amount of time - 5 years? 10 years? - as a long inhale basically.
    
    Elves who "reconnect with Aldanor" during that mela become fertile
[2023-11-03 01:51 PM] rsulfuratus: I like that a lot
[2023-11-03 01:51 PM] Deciusmus: It could be somewhat unknown what happens to elves who don't return during the mela
[2023-11-03 01:51 PM] Deciusmus: again, the metaphor and vibes might need to be a little different
[2023-11-03 01:52 PM] Deciusmus: And for Delwath specifically, he *didn't* feel the pulse of the mela while in the Shadowfell
[2023-11-03 01:53 PM] Deciusmus: Is that because it was too faint, and he was too lost in his pain to notice it and he missed it? Is it because it didn't reach him? In the next mela (when is that, anyway?) will he feel like?
[2023-11-03 01:54 PM] Deciusmus: There is likely also something that could be done with this idea and death, i.e. maybe the pulse of Aldanor gets weaker over time, and elves tend to die off around the mela, as they fail to feel it at all
[2023-11-03 01:54 PM] Deciusmus: Or maybe not
[2023-11-03 01:55 PM] Deciusmus: But a normal elf in the Feywild would obviously feel the mela, so the fact that Delwath didn't hear it would be interesting, but also if the metaphysics were such that he should have heard it, it could be just because he was too wrapped up in his pain to notice
[2023-11-03 01:55 PM] Deciusmus: Or it could be a cool unique feature of the Cha'mutte pocket dimensions. Actually Cha'mutte having a pocket dimension where the embodied gods can't reach would be plauisble
[2023-11-03 01:56 PM] rsulfuratus: next mela starts in 1787, so ~40 years
[2023-11-03 01:56 PM] rsulfuratus: currently in the 37th leya, which started in 1707
[2023-11-03 01:57 PM] rsulfuratus: actually works out to be a convenient time to run games for elf players
[2023-11-03 01:57 PM] Deciusmus: Yeah
[2023-11-03 01:58 PM] Deciusmus: I also feel like the metaphor should maybe be plant related, or alternatively somehow the mela (or leya) is Aldanor and the other is Elmerca
[2023-11-03 01:58 PM] rsulfuratus: I think mela is Aldanor, the leya is Elmerca
[2023-11-03 01:58 PM] Deciusmus: I don't love inhale / exhale as the metaphor. Just was using it as a quick example of what I meant
[2023-11-03 01:59 PM] Deciusmus: But actually having one for each god works well
[2023-11-03 01:59 PM] rsulfuratus: I'd make the metaphor more root related somehow, like a grounding in the earth
[2023-11-03 01:59 PM] Deciusmus: Yeah
[2023-11-03 01:59 PM] Deciusmus: I like that
[2023-11-03 01:59 PM] rsulfuratus: then leya is disperal on the wind
[2023-11-03 01:59 PM] Deciusmus: Yeah, that's perfect
[2023-11-03 02:00 PM] rsulfuratus: I actually really like the idea that with each mela elves feel less and less connected to taelgar - works with the root metaphor too
[2023-11-03 02:00 PM] Deciusmus: This also works with my original elf notes about the "rite of awakening" and the "rite of return"
[2023-11-03 02:00 PM] rsulfuratus: yeah
[2023-11-03 02:00 PM] Deciusmus: The mela is the rite of awakening, the leya is the rite of return
[2023-11-03 02:01 PM] rsulfuratus: I think by your 5th or 6th mela most elves don't feel the pull of taelgar anymore, and in the 6th leya is when lots of elves leave
[2023-11-03 02:01 PM] rsulfuratus: some in the 5th, some in the 7th, but the peak of departures is the 6th leya
[2023-11-03 02:02 PM] rsulfuratus: basically you have 1 leya as a wanderer, 1 as a nuturer, 1 as a caretaker, 1 as an elder/unifier, 1 as an ancient, and then you go
[2023-11-03 02:02 PM] rsulfuratus: puts typical lifespan right aroun 1000 years, but really once you reach elder many are forgetting and starting to turn inward
[2023-11-03 02:03 PM] rsulfuratus: and then those who stay do so for a reason
[2023-11-03 02:03 PM] Deciusmus: right that seems perfec
[2023-11-03 02:05 PM] rsulfuratus: that puts the sort of typical elven memory threshold around 400 years:
    - you don't remember much from your first mela
    - your first leya (80 years) you are out in the word
    - next two ka (320 years) you are alternating between caretarker and nuturer
    - then you reach your 5th mela and the pull starts to fade. maybe you become a unifier and turn inward, stick around as an elder, etc, but the past starts to feel more like a dream, etc for most elves
[2023-11-03 02:07 PM] Deciusmus: I assume you will put some of this in obsidian
[2023-11-03 02:07 PM] rsulfuratus: yeah
[2023-11-03 02:07 PM] rsulfuratus: I'm working on the history of the elves. got my covid + flu shots yesterday and was feeling pretty crappy this morning so took a sick day and a nap
[2023-11-03 02:08 PM] rsulfuratus: now working on taelgar instead of trying to squeeze something into the end of the day
[2023-11-03 02:09 PM] rsulfuratus: I pushed a note that has all the elven generations going back to the 1st ka with the mela and leya start years fyi, under elves
[2023-11-03 02:34 PM] rsulfuratus: updated elven generations note with text based on this, feel free to edit
[2023-11-03 03:21 PM] rsulfuratus: thinking about this some more, the idea that it is liternally Aldanor's influence that lets elves reproduce puts Cha'mutte's desire to kill all the gods in a different light
[2023-11-03 03:21 PM] rsulfuratus: no wonder the elves were so against him
[2023-11-03 03:22 PM] Deciusmus: That actually fits perfectly. He is going to kill the elves as a sacrifice to free the other races
[2023-11-03 03:25 PM] Deciusmus: Ok, I'm about to push a getEventsTable update with more flexibility
[2023-11-03 03:26 PM] Deciusmus: ```dataviewjs
    await dv.view("_scripts/view/get_EventsTable", { 
    yearStart: 1512, 
    yearEnd: 1512, 
    pageFilter: "#test1", 
    header : `["Date", "File"]`,
    map : (f =>` `[f.date, dv.fileLink(f.file)]`)
    })
    ```
[2023-11-03 03:26 PM] Deciusmus: year and page are the same as before
[2023-11-03 03:26 PM] Deciusmus: header, if specified is an array that defines the table header
[2023-11-03 03:26 PM] Deciusmus: map, if specified, is a function that maps from the "event structure" to your table columns
[2023-11-03 03:27 PM] Deciusmus: For now, an event structure defines the following properties:
    
    *  year (the numeric year)
    * date (the fantasy-calendar formatted display date, or DR xxx if there is no month or day)
    * file (the file itself, for linking)
    * text (the text of the event)
[2023-11-03 03:28 PM] Deciusmus: * rawText (the text without stripping the (DR:: )
[2023-11-03 03:29 PM] Deciusmus: Default header if Date, Text, File
[2023-11-03 03:30 PM] Deciusmus: But I am wondering if the default should be date, text only with the date linked to the file
[2023-11-03 03:35 PM] rsulfuratus: I'd leave file in
[2023-11-03 03:36 PM] Deciusmus: its not perfect when you intermix different types of dates
![[../_discord_assets/image-69AE8.png]]
[2023-11-03 03:36 PM] Deciusmus: but it does sort correctly
[2023-11-03 03:42 PM] rsulfuratus: it looks like the tag is not correctly stripped from everything?
[2023-11-03 03:43 PM] Deciusmus: yeah I make it a policy to not read or understand regexes
[2023-11-03 03:43 PM] Deciusmus: so you need to fix that one üôÇ
[2023-11-03 03:43 PM] rsulfuratus: ha ha okay I will
[2023-11-03 03:52 PM] Deciusmus: sythenized birth events:
![[../_discord_assets/image-A276C.png]]
[2023-11-03 04:22 PM] Deciusmus: 
![[../_discord_assets/image-C9B30.png]]
[2023-11-03 04:40 PM] Deciusmus: 
![[../_discord_assets/image-E1C24.png]]
[2023-11-03 05:25 PM] Deciusmus: 
![[../_discord_assets/image-A23FC.png]]
[2023-11-03 05:26 PM] rsulfuratus: that is cool
[2023-11-03 05:27 PM] Deciusmus: the master list of everything with every NPC takes a bit to load but is fun to browse
[2023-11-03 05:28 PM] rsulfuratus: did you push that yet? i don't see any whereabouts code in the versin I have
[2023-11-03 05:28 PM] Deciusmus: 2 seconds ago
[2023-11-03 05:28 PM] Deciusmus: to get the autolink of The Side Quests to the right file you need to add 
       "partyFile" : "The Dunmar Fellowship",
    to metadata.json
[2023-11-03 05:29 PM] Deciusmus: I did that for DuFr but not other campaigns
[2023-11-03 05:29 PM] Deciusmus: I don't remember if metadata.json is shared, anyway
[2023-11-03 05:29 PM] Deciusmus: ```dataviewjs
    await dv.view("_scripts/view/get_EventsTable", {  
    yearStart: 1,  
    yearEnd: 2000,  
    pageFilter: "\"People/Chardonians/Kaeso\"", 
    includeAll : true
    })
    ```
[2023-11-03 05:29 PM] Deciusmus: the "includeAll" is key, it includes all synthenized events
[2023-11-03 05:30 PM] Deciusmus: if you want only some synthenized events, I support:
    
    ```   includeBirth
            includeDeath
            includeRegnal
            includeExcursions
            includePartyMeetings
[2023-11-03 05:36 PM] Deciusmus: There  is a little bit of messiness around the recent PCs who have full date whereabouts but year-only birth and death dates.
    
    The birth dates are fine, but like Arcus doesn't look great:
[2023-11-03 05:36 PM] rsulfuratus: weird bug - it parses both 11 and 12 as december
[2023-11-03 05:37 PM] Deciusmus: 
![[../_discord_assets/image-208F3.png]]
[2023-11-03 05:37 PM] rsulfuratus: also that date is wrong
[2023-11-03 05:38 PM] Deciusmus: yeah that probably came from a bug in the regen template which I believe (probably wrongly) uses the current date for an exucrsion when there is no date
[2023-11-03 05:38 PM] Deciusmus: so if you converted from the old-style location/home stuff to the new style whereabouts stuff when the fantasy calendar date was 11-23-1748 the header gen code set the excursion date as 11-23-1748
[2023-11-03 05:39 PM] rsulfuratus: yeah that is probably the issue
[2023-11-03 05:40 PM] rsulfuratus: arcus has quite a lot of timeline entries and mentions for someone who has been dead (ish) since before the campaign started
[2023-11-03 05:42 PM] rsulfuratus: i'm not sure it is actually worthwhile trying to overload whereabouts, e.g. for arcus I have the whole timeline of his journey from chardon to songara to tokra to karawa to the forst
[2023-11-03 05:43 PM] rsulfuratus: `*`fort
[2023-11-03 05:43 PM] Deciusmus: whereabouts is mostly useful when you want to know where someone is at a time, not for narrative timelines
[2023-11-03 05:44 PM] Deciusmus: javascript dates are the worst invention ever
[2023-11-03 05:46 PM] Deciusmus: setYear() then setMonth() then setDate() does some weird craziness
[2023-11-03 05:46 PM] Deciusmus: setDate() setMonth() setYear() seems to work
[2023-11-03 05:47 PM] rsulfuratus: pused a regex fix
[2023-11-03 05:48 PM] Deciusmus: I puhed a date fix
[2023-11-03 05:49 PM] Deciusmus: I'm going to play Zelda with Z for a bit. But I think for whereabouts it is probably NOT worth using it. I intentionally made it so that the list items on a page can merge with the whereabouts
[2023-11-03 05:50 PM] Deciusmus: So for most NPCs, I expect that they'd just have a born or born and died. For someone like Arcus, if you wanted to move his whole timeline into his doc, just use a list, then the "arcus timeline" via the events table will merge
[2023-11-03 05:51 PM] rsulfuratus: yeah that makes sense
[2023-11-03 05:56 PM] Deciusmus: For npcs where you either want to track there movement‚Äôs specifically outside of ‚Äúevents‚Äù (Ie Sura or Havdar) whereabouts is perfect
[2023-11-03 05:58 PM] Deciusmus: Although honestly it would probably be ideal if you could have secret whereabouts so that you could track more complex movements.
[2023-11-03 05:59 PM] Deciusmus: although actually with the event stuff I‚Äôm not sure if the whole whereabouts thing is even worthwhile as opposed to just having bulleted events
[2023-11-03 06:00 PM] rsulfuratus: yeah. for secret stuff events are so much better, because I can just have a secret doc
[2023-11-03 06:01 PM] rsulfuratus: whereabouts are good for a very small number of people (Vista, for example, or Archivist Lyra) who move between campaigns
[2023-11-03 06:01 PM] rsulfuratus: and for tracking things like "born in X, moved to Y as a kid, now lives in Z"
[2023-11-03 06:03 PM] rsulfuratus: but they are really tedious for keeping track of actual movements during a campaign, which really are best as secret events
[2023-11-03 06:07 PM] Deciusmus: Yeah makes sense
[2023-11-03 09:26 PM] Deciusmus: Btw I just pushed a narrative history of Cleenseau to the background folder. Curious as to any thoughts you might have
[2023-11-03 09:26 PM] Deciusmus: If you feel like reading it at some point


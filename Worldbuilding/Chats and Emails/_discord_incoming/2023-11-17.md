# Discord DM ‚Äì 2023-11-17

[2023-11-17 09:59 AM] rsulfuratus: List of Taelgar-relevant GPTs. If you use any of these would like feedback to refine custom instructions. None of these currently use Taelgar-specific information.
    
    1. Fantasy Geo-Crafter: https://chat.openai.com/g/g-cWN5an6LR-fantasy-geo-crafter. Give a description of a region, get back plausible climates, biomes, etc. Can request multiple different scenarios. Always should return climate, biomes, agriculture, real world analogs, but you can request additional details (e.g. weather, seasonal patterns, plausible mineral resources, etc).
[2023-11-17 10:03 AM] rsulfuratus: 2. Phonetic Navigator: https://chat.openai.com/g/g-tNTZcpOFV-phonetic-navigator. Give a name and one or more reference languages (e.g., Chasa, Hebrew or Latin). Will return phonetic English spelling and some pronunciation details.
[2023-11-17 10:17 AM] Deciusmus: I don't have GPT Plus
[2023-11-17 10:17 AM] Deciusmus: I guess maybe I should get it
[2023-11-17 10:18 AM] Deciusmus: But it is waitlisted right now anyway
[2023-11-17 10:18 AM] rsulfuratus: ah hmm. i think they are running out of capacity.
[2023-11-17 10:18 AM] Deciusmus: FYI, I have some javascript changes from last night + a little I did this morning to push, so I wouldn't do much with conversion to python until the weekend
[2023-11-17 10:18 AM] rsulfuratus: the fantasy geo-crafter is amazing for working on region descriptions. i also have a name generator I'm refining
[2023-11-17 10:19 AM] Deciusmus: I am moving all of the string construction out of Javascript into format strings
[2023-11-17 10:19 AM] Deciusmus: So i.e.      whereaboutsLastKnown: "Last known location: (as of `<endDate>`): `<loc>`",
[2023-11-17 10:20 AM] Deciusmus: The "loc" token is special:
    
    `<loc:int>`
    
    Will generate int depth.
    
    i.e.
    
    `<loc:1>` means just the target, don't follow the chain
    
    `<loc:10>` means go up to 10 levels in partOf chain
[2023-11-17 10:20 AM] rsulfuratus: my javascript ->` python gpt works by function (if you give it too much code it tends to trail off) so it is pretty easy to just update individual functions
[2023-11-17 10:20 AM] rsulfuratus: the only complicated bit is if you refactor entire classes
[2023-11-17 10:21 AM] rsulfuratus: or change how functions are called so all function calls need to be updated
[2023-11-17 10:21 AM] Deciusmus: loc also supports t, i.e. 
    
    `<loc:5t>` means depth 5 / use title case
[2023-11-17 10:21 AM] rsulfuratus: that is great
[2023-11-17 10:22 AM] Deciusmus: The format strings follow a path of:
    
    displayDefaults: x is prefered over metadata.json's setting for the type is preferred over metadata.json's setting for default is preferred over the hardcoded default
[2023-11-17 10:23 AM] Deciusmus: to avoid having to deal with missing strings or other similar null-ref errors I hard code a base default for each string in name manager
[2023-11-17 03:59 PM] Deciusmus: 
![[../_discord_assets/image-E23AC.png]]
[2023-11-17 05:03 PM] rsulfuratus: I think gender and pronouns is unnecessary, I prefer just pronouns
[2023-11-17 05:04 PM] rsulfuratus: Need to think about subType typeOf vs typeOf (subType)
[2023-11-17 05:06 PM] Deciusmus: the reason to do subtype typeof is because I share code
[2023-11-17 05:07 PM] Deciusmus: it's just
    
    get all the type of parts in order
    merge
[2023-11-17 05:11 PM] rsulfuratus: ah. hmm
[2023-11-17 05:12 PM] rsulfuratus: but then there is no way to prevent e.g. archfey fey of Amberglow
[2023-11-17 05:12 PM] rsulfuratus: or great wyrm dragon
[2023-11-17 05:27 PM] Deciusmus: yeah Agata as hag fey is not the nicest
[2023-11-17 05:27 PM] Deciusmus: but I didn't have a better idea
[2023-11-17 05:27 PM] Deciusmus: I guess fey (hag) or fey (archfey) looks nicer
[2023-11-17 05:28 PM] Deciusmus: but for humans I like Tyrwinghan human
[2023-11-17 05:28 PM] Deciusmus: or Tyrwinghan elf
[2023-11-17 05:29 PM] Deciusmus: Maybe we should have a subSpecies and I can special case that like
    
    Tollender great wrym (dragon)
[2023-11-17 05:29 PM] Deciusmus: (i.e. the "species" element is:
    
    if (species && subspecies) species (subspecies)
    else species ?? subspeices
[2023-11-17 05:30 PM] rsulfuratus: I think it is probably not correct to completely generalize any type-specific formatting
[2023-11-17 05:30 PM] rsulfuratus: that is, I don't think it makes sense to just smash up all vaguly typeOf/partOf like information into a generic string
[2023-11-17 05:34 PM] Deciusmus: we are heading out to dinner. I did push a spec
[2023-11-17 05:34 PM] rsulfuratus: I would have: typeOf (alias = species) and subType (alias ancestry, rarity)
[2023-11-17 05:34 PM] rsulfuratus: Then just use your format string
[2023-11-17 05:35 PM] rsulfuratus: Gender is a special case that can be inserted if desired and present
[2023-11-17 05:35 PM] rsulfuratus: I‚Äôll look at the spec
[2023-11-17 05:36 PM] Deciusmus: (Spec not complete, fyi)
[2023-11-17 07:32 PM] rsulfuratus: here is what I would propose. i think it is really nice to actually have a type-specific string you can control, because without that some things are inevitably going to look ugly. e.g. right now if you put a ddbLink for a PC for a character sheet it is a mess (or, say, to the homebrew mechanics for a species on a species page). 
    
    I can't think of a situation where you would want more than three basic pieces: a mainType, a subType, and a descriptor. 
    
    Then, there are a small number of "special" pieces:
    primaryAffiliations
    ddbLink
    ka if you are an elf, and potentially other things like this
    
    So I would use a format string with some sensible aliases.
    `mainType = species || typeOf ` (potentially adding a default "item" if type is item and any of ddbLink,rarity,magical/mundane exist
    `subType = ancestry || rarity`
    `descriptor = gender || magical/mundane`
    
    then the string is:
    `<subType>` `<descriptor>` `<mainType>` for items
    `<mainType>` (`<subType>`) for people
    etc
    
    requires a bit of fiddling to get the () to not show up in there is no subType. for specific people you could add gender to the line, if you wanted, with the usual override.
[2023-11-17 07:32 PM] rsulfuratus: for events and defaults probably just `<mainType>` (generally subType and descriptor wouldn't be defined anyway)
[2023-11-17 07:34 PM] rsulfuratus: then you add:
    - if ddbLink, something like `[`<linkText>`]`(ddbLink) where `<linkText>` is mechanics by default and overwrites to character sheet for people (but this can theoretically then be used for ANY link, doesn't technically need to be dndbeyond
    - primaryAffiliations as current
    - ka as current
[2023-11-17 07:35 PM] rsulfuratus: i am going to try to get chatGPT to write the python code tonight because I'm trying to do session notes tomorrow
[2023-11-17 07:36 PM] rsulfuratus: I think all of this stuff is static and so won't be touched, but if I do have time I might fiddle a bit
[2023-11-17 09:05 PM] rsulfuratus: looking at a bunch of npcs, pronouns in the secondary info also doesn't look great, imo.
[2023-11-17 09:06 PM] rsulfuratus: for like 95% of non-rulers
    
    # Name
    *(pronunciation)*
    species (ancestry), pronous
    
    looks way better than the current layout IMO
[2023-11-17 09:07 PM] Deciusmus: I think this is close but not quite there yet.
    
    For example, I think that
    
    sea elf
    fire giant
    storm giant
    cursed giant
    
    all seem better than
    
    elf (sea)
    giant (fire)
    giant (storm)
    giant (cursed)
    
    Same with
    Semabaran human (compared to human (Sembaran))
    
    admittedly a bit of a personal preference
[2023-11-17 09:08 PM] Deciusmus: there are cases where it looks bad:
    
    archfey fey
    great wrym dragon
    oni giant
[2023-11-17 09:09 PM] Deciusmus: but actually in those three cases, I think archfey | great wrym | oni are effectively aliases for the type
[2023-11-17 09:09 PM] rsulfuratus: I don't have very strong feelings about the default
    species (ancestry) or ancestry species
    although I lean towards the former
[2023-11-17 09:10 PM] rsulfuratus: maybe for display purposes, but very strong disagree for actual tagging
[2023-11-17 09:10 PM] Deciusmus: right, I don't mean species: archfey
[2023-11-17 09:10 PM] Deciusmus: I mean what you are trying to say is that this is a "fey" with no other info, but you want it to display as
    
    archfey
    
    not 
    fey
[2023-11-17 09:10 PM] Deciusmus: but dataview query for table name where species = fey should still find it
[2023-11-17 09:10 PM] rsulfuratus: sure in those cases you could have a display string that is just "`<subtype>` `<descriptor>`" or whatever
[2023-11-17 09:11 PM] Deciusmus: I actually think in those cases you'd prefer the header to be
    
    
    [[fey|archfey]]
[2023-11-17 09:12 PM] Deciusmus: i.e it is literally a display alias to the link
[2023-11-17 09:12 PM] rsulfuratus: right, yes
[2023-11-17 09:14 PM] rsulfuratus: personally I think that it was basically fine before
[2023-11-17 09:14 PM] rsulfuratus: i mean i get it is fun to play with this and optimize things, and having the partOf stuff and item whereabouts is great
[2023-11-17 09:14 PM] Deciusmus: Sure, I could just restore the old code
[2023-11-17 09:14 PM] Deciusmus: It is true it wasn't really an issue
[2023-11-17 09:15 PM] Deciusmus: I got a bit caught up in the "lets get rid of the concept of a 'page type'"
[2023-11-17 09:15 PM] Deciusmus: So there is a purist perspective that says the header generator shouldn't care about page type
[2023-11-17 09:16 PM] rsulfuratus: part of the problem is this is consuming all my d&d time and i've got two sessions to run next week and two sets of session notes to send out plus worldbuilding stuff i want to work on
[2023-11-17 09:16 PM] Deciusmus: Heh
[2023-11-17 09:16 PM] rsulfuratus: i think it would make sense to fiddle around with this on a branch
[2023-11-17 09:16 PM] Deciusmus: Well, from my perspective this is useful from a learning Javascript perspective
[2023-11-17 09:17 PM] Deciusmus: i.e. my actual goal is to get a bit more familar with Javascript and this is a convienent project
[2023-11-17 09:17 PM] rsulfuratus: sure, that's great, but i guess for me while i enjoy the coding aspects of this and it is nice learning about spec writing and stuff, it is actually more important to me for the content
[2023-11-17 09:17 PM] Deciusmus: yeah, I get that
[2023-11-17 09:17 PM] Deciusmus: and the type line is not that interesting
[2023-11-17 09:18 PM] Deciusmus: perhaps simplest to just restore the special casing we had before and move on
[2023-11-17 09:18 PM] Deciusmus: realistically, the type line is actually only interesting if the page either has
    
    one of species or ancestry
    or typeOf but not partOf
[2023-11-17 09:18 PM] Deciusmus: if it has none of those, a type line is silly
[2023-11-17 09:19 PM] Deciusmus: i.e. because saying typeOf: battle
    
    and then having the header by
    
    battle
    a battle in the Great War
    
    is not ideal
[2023-11-17 09:19 PM] rsulfuratus: yes
[2023-11-17 09:19 PM] rsulfuratus: places & events only care about typeOf for queries and for partOf lines
[2023-11-17 09:20 PM] rsulfuratus: people & items get a special type line that is custom based on the old layout, but with the primarily affliation tweaks
[2023-11-17 09:21 PM] rsulfuratus: I like the primary affiliation stuff, that has a lot of advantages, although it was obviously built with your complicated royals in mind üôÇ
[2023-11-17 09:21 PM] Deciusmus: Well, the affiliation stuff was not really built with anything in mind
[2023-11-17 09:21 PM] Deciusmus: The leaderOf (which I don't know if you have looked at) was built for Sembaran royalty
[2023-11-17 09:21 PM] rsulfuratus: right, yes,that is what I meant, the Ruler of X and Y and Z
[2023-11-17 09:21 PM] Deciusmus: yeah
[2023-11-17 09:21 PM] rsulfuratus: i guess that isn't affiliations, that is a separate thing
[2023-11-17 09:22 PM] Deciusmus: right
[2023-11-17 09:22 PM] rsulfuratus: anyway
[2023-11-17 09:22 PM] Deciusmus: affiliations is just to make it easy to do clans or whatever
[2023-11-17 09:22 PM] Deciusmus: if we want
[2023-11-17 09:22 PM] Deciusmus: Ok, so my plan then is to:
    
    a) restore the old typeOf stuff
    b) do further non-bug fix messing around on a branch
[2023-11-17 09:22 PM] rsulfuratus: well, also nice for dwarves instead of a specific thuhr, e.g you could have `[ clan thuhr ]` and the "of the Gemcrafters and the Warrior thuhr"
[2023-11-17 09:22 PM] rsulfuratus: yes
[2023-11-17 09:24 PM] rsulfuratus: my hope is to get a draft of the python stuff done tonight, and then focus on session notes and session prep over the weekend, even if the python code is not fully working (in a pinch can just convert session notes only and just add it to existing taelgarverse)
[2023-11-17 09:24 PM] rsulfuratus: (you should also take a break from coding to look at bastion stuff!)
[2023-11-17 09:24 PM] Deciusmus: Yes, bastion is on my list
[2023-11-17 09:24 PM] Deciusmus: To look at as well as your PR about regions
[2023-11-17 09:24 PM] rsulfuratus: regions are done except dunmar and green sea - spent a while on sentinels and Chardonian Empire
[2023-11-17 09:25 PM] rsulfuratus: I'm taking next week off, so planning to debug website build during that time, and also do a lot of note cleanup
[2023-11-17 09:38 PM] rsulfuratus: if you are at your computer, is there an obvious reference for the obsidian api somewhere? i need to know what these are supposed to return:
    window.app.vault.getRoot()
    window.app.metadataCache.getFirstLinkpathDest(target, root)
    window.app.metadataCache.getFileCache(tfile)
    window.app.vault.getMarkdownFiles()
[2023-11-17 09:38 PM] rsulfuratus: getRoot().path is presumably returning path to the vault
    window.app.vault.getMarkdownFiles() presumably a list of all markdown files in the vault
[2023-11-17 09:38 PM] rsulfuratus: those I have
[2023-11-17 09:39 PM] rsulfuratus: this one is the least clear: window.app.metadataCache.getFirstLinkpathDest
[2023-11-17 09:40 PM] rsulfuratus: window.app.metadataCache.getFileCache(tfile)?.frontmatter presumably returns the metadata for tfile if it exists, that isn't too hard i'm sure there is a python package that reads markdown and parses yaml
[2023-11-17 09:44 PM] Deciusmus: getRootPath you don‚Äôt need. I just use it as a value to pass to getFirstLinkpathDest
[2023-11-17 09:45 PM] Deciusmus: All of that logic is basically boils down to:
    Given a string like ‚ÄúCece I‚Äù find the frontmatter for the file
[2023-11-17 09:48 PM] Deciusmus: So either just find the first file named Cece I.md or use obsidian tools

